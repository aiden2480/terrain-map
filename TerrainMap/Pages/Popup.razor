@page "/popup.html"
@inherits BasePage
@inject ILocalAuthService AuthService

@if (isAuthenticated.HasValue && isAuthenticated.Value)
{
    <MudAlert Severity="Severity.Success">You are authenticated</MudAlert>
}
else if (isAuthenticated.HasValue && !isAuthenticated.Value)
{
    <Login OnLoginSuccess="() => isAuthenticated = true" />
}

@code {
    private bool? isAuthenticated;

    protected override async Task OnInitializedAsync()
        => isAuthenticated = await AuthService.IsAuthenticated();
}
